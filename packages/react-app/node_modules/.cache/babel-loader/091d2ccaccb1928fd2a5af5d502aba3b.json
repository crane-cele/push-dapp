{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Prodigy/Desktop/Inhouse/EPNS/epns-dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Prodigy/Desktop/Inhouse/EPNS/epns-dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/Users/Prodigy/Desktop/Inhouse/EPNS/epns-dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  {\\n    transfers(first: 10) {\\n      id\\n      from\\n      to\\n      value\\n    }\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import logo from\"./ethereumLogo.png\";import{addresses,abis}from\"@project/contracts\";import{gql}from\"apollo-boost\";import{ethers}from\"ethers\";import{useQuery}from\"@apollo/react-hooks\";import\"./App.css\";var GET_TRANSFERS=gql(_templateObject());function readOnchainBalance(){return _readOnchainBalance.apply(this,arguments);}function _readOnchainBalance(){_readOnchainBalance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var defaultProvider,ceaErc20,tokenBalance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Should replace with the end-user wallet, e.g. Metamask\ndefaultProvider=ethers.getDefaultProvider();// Create an instance of ethers.Contract\n// Read more about ethers.js on https://docs.ethers.io/ethers.js/html/api-contract.html\nceaErc20=new ethers.Contract(addresses.ceaErc20,abis.erc20,defaultProvider);// A pre-defined address that owns some CEAERC20 tokens\n_context.next=4;return ceaErc20.balanceOf(\"0x3f8CB69d9c0ED01923F11c829BaE4D9a4CB6c82C\");case 4:tokenBalance=_context.sent;console.log({tokenBalance:tokenBalance.toString()});case 6:case\"end\":return _context.stop();}}},_callee);}));return _readOnchainBalance.apply(this,arguments);}function App(){var _useQuery=useQuery(GET_TRANSFERS),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;React.useEffect(function(){if(!loading&&!error&&data&&data.transfers){console.log({transfers:data.transfers});}},[loading,error,data]);return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,className:\"App-logo\",alt:\"react-logo\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Edit \",/*#__PURE__*/React.createElement(\"code\",null,\"packages/react-app/src/App.js\"),\" and save to reload.\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return readOnchainBalance();},style:{display:\"none\"}},\"Read On-Chain Balance\"),/*#__PURE__*/React.createElement(\"a\",{className:\"App-link\",href:\"https://ethereum.org/developers/#getting-started\",target:\"_blank\",rel:\"noopener noreferrer\",style:{marginTop:\"0px\"}},\"EPNS\"),/*#__PURE__*/React.createElement(\"a\",{className:\"App-link\",href:\"https://reactjs.org\",target:\"_blank\",rel:\"noopener noreferrer\"},\"Learn React\"),/*#__PURE__*/React.createElement(\"a\",{className:\"App-link\",href:\"https://thegraph.com/docs/quick-start\",target:\"_blank\",rel:\"noopener noreferrer\"},\"Learn The Graph\")));}export default App;","map":{"version":3,"sources":["/Users/Prodigy/Desktop/Inhouse/EPNS/epns-dapp/packages/react-app/src/App.js"],"names":["React","logo","addresses","abis","gql","ethers","useQuery","GET_TRANSFERS","readOnchainBalance","defaultProvider","getDefaultProvider","ceaErc20","Contract","erc20","balanceOf","tokenBalance","console","log","toString","App","loading","error","data","useEffect","transfers","display","marginTop"],"mappings":"4tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,OAASC,SAAT,CAAoBC,IAApB,KAAgC,oBAAhC,CACA,OAASC,GAAT,KAAoB,cAApB,CACA,OAASC,MAAT,KAAuB,QAAvB,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,MAAO,WAAP,CAEA,GAAMC,CAAAA,aAAa,CAAGH,GAAH,mBAAnB,C,QAWeI,CAAAA,kB,gKAAf,6KACE;AACMC,eAFR,CAE0BJ,MAAM,CAACK,kBAAP,EAF1B,CAGE;AACA;AACMC,QALR,CAKmB,GAAIN,CAAAA,MAAM,CAACO,QAAX,CAAoBV,SAAS,CAACS,QAA9B,CAAwCR,IAAI,CAACU,KAA7C,CAAoDJ,eAApD,CALnB,CAME;AANF,sBAO6BE,CAAAA,QAAQ,CAACG,SAAT,CAAmB,4CAAnB,CAP7B,QAOQC,YAPR,eAQEC,OAAO,CAACC,GAAR,CAAY,CAAEF,YAAY,CAAEA,YAAY,CAACG,QAAb,EAAhB,CAAZ,EARF,sD,qDAWA,QAASC,CAAAA,GAAT,EAAe,eACoBb,QAAQ,CAACC,aAAD,CAD5B,CACLa,OADK,WACLA,OADK,CACIC,KADJ,WACIA,KADJ,CACWC,IADX,WACWA,IADX,CAGbtB,KAAK,CAACuB,SAAN,CAAgB,UAAM,CACpB,GAAI,CAACH,OAAD,EAAY,CAACC,KAAb,EAAsBC,IAAtB,EAA8BA,IAAI,CAACE,SAAvC,CAAkD,CAChDR,OAAO,CAACC,GAAR,CAAY,CAAEO,SAAS,CAAEF,IAAI,CAACE,SAAlB,CAAZ,EACD,CACF,CAJD,CAIG,CAACJ,OAAD,CAAUC,KAAV,CAAiBC,IAAjB,CAJH,EAMA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,8BAAQ,SAAS,CAAC,YAAlB,eACE,2BAAK,GAAG,CAAErB,IAAV,CAAgB,SAAS,CAAC,UAA1B,CAAqC,GAAG,CAAC,YAAzC,EADF,cAEE,kDACO,gEADP,wBAFF,cAKE,8BAAQ,OAAO,CAAE,yBAAMO,CAAAA,kBAAkB,EAAxB,EAAjB,CAA6C,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAX,CAApD,0BALF,cAQE,yBACE,SAAS,CAAC,UADZ,CAEE,IAAI,CAAC,kDAFP,CAGE,MAAM,CAAC,QAHT,CAIE,GAAG,CAAC,qBAJN,CAKE,KAAK,CAAE,CAAEC,SAAS,CAAE,KAAb,CALT,SARF,cAiBE,yBAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,qBAA7B,CAAmD,MAAM,CAAC,QAA1D,CAAmE,GAAG,CAAC,qBAAvE,gBAjBF,cAoBE,yBAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,uCAA7B,CAAqE,MAAM,CAAC,QAA5E,CAAqF,GAAG,CAAC,qBAAzF,oBApBF,CADF,CADF,CA4BD,CAED,cAAeP,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport logo from \"./ethereumLogo.png\";\nimport { addresses, abis } from \"@project/contracts\";\nimport { gql } from \"apollo-boost\";\nimport { ethers } from \"ethers\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport \"./App.css\";\n\nconst GET_TRANSFERS = gql`\n  {\n    transfers(first: 10) {\n      id\n      from\n      to\n      value\n    }\n  }\n`;\n\nasync function readOnchainBalance() {\n  // Should replace with the end-user wallet, e.g. Metamask\n  const defaultProvider = ethers.getDefaultProvider();\n  // Create an instance of ethers.Contract\n  // Read more about ethers.js on https://docs.ethers.io/ethers.js/html/api-contract.html\n  const ceaErc20 = new ethers.Contract(addresses.ceaErc20, abis.erc20, defaultProvider);\n  // A pre-defined address that owns some CEAERC20 tokens\n  const tokenBalance = await ceaErc20.balanceOf(\"0x3f8CB69d9c0ED01923F11c829BaE4D9a4CB6c82C\");\n  console.log({ tokenBalance: tokenBalance.toString() });\n}\n\nfunction App() {\n  const { loading, error, data } = useQuery(GET_TRANSFERS);\n\n  React.useEffect(() => {\n    if (!loading && !error && data && data.transfers) {\n      console.log({ transfers: data.transfers });\n    }\n  }, [loading, error, data]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"react-logo\" />\n        <p>\n          Edit <code>packages/react-app/src/App.js</code> and save to reload.\n        </p>\n        <button onClick={() => readOnchainBalance()} style={{ display: \"none\" }}>\n          Read On-Chain Balance\n        </button>\n        <a\n          className=\"App-link\"\n          href=\"https://ethereum.org/developers/#getting-started\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          style={{ marginTop: \"0px\" }}\n        >\n          EPNS\n        </a>\n        <a className=\"App-link\" href=\"https://reactjs.org\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Learn React\n        </a>\n        <a className=\"App-link\" href=\"https://thegraph.com/docs/quick-start\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Learn The Graph\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}